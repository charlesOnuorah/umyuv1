{"version":3,"sources":["./src/app/pages/pptviewer/pptviewer.page.html","./src/app/pages/pptviewer/pptviewer.module.ts","./src/app/pages/pptviewer/pptviewer.page.scss","./src/app/pages/pptviewer/pptviewer.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,qIAAqI,cAAc,iHAAiH,4BAA4B,kGAAkG,0FAA0F,8EAA8E,yEAAyE,mBAAmB,yJAAyJ,mFAAmF,uOAAuO,6EAA6E,YAAY,gdAAgd,qBAAqB,mMAAmM,qBAAqB,+C;;;;;;;;;;;;;;;;;;;;;;;;ACAt0D;AACM;AACF;AACU;AAEV;AAEI;AACE;AACH;AAEhD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAa;KACzB;CACF,CAAC;AAaF,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAAG;AAAtB,mBAAmB;IAX/B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,iEAAkB;YAClB,8DAAe;YACf,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,6DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;AC7BhC,+DAA+D,uJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAF;AACJ;AACX;AACiB;AACE;AACa;AAC7B;AACZ;AACqD;AACpD;AAEE;AAQxC,IAAa,aAAa,GAA1B,MAAa,aAAa;IA+BxB,YACS,WAA8B,EAC7B,QAAkB,EAClB,YAA0B,EAC1B,aAA4B,EAC5B,cAA8B,EAC9B,SAA0B,EAC1B,QAAwB,EACxB,IAAU,EACV,MAAc,EACd,eAAgC;QATjC,gBAAW,GAAX,WAAW,CAAmB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QA/B1C,YAAO,GAAW,0BAA0B,CAAC;QAC7C,gBAAW,GAAW,yCAAyC,CAAC;QAChE,wEAAwE;QACxE,WAAM,GAAW,iFAAiF,CAAC;QACnG,YAAO,GAAY,KAAK,CAAC;QACzB,gBAAW,GAAkB,EAAE,CAAC;QAChC,kBAAa,GAAW,KAAK,CAAC;QAE9B,cAAS,GAAG,CAAC,CAAC;QACd,SAAI,GAAG,CAAC,CAAC;QAET,kBAAa,GAAG,KAAK,CAAC;QAEtB,0BAAqB,GAAG,KAAK,CAAC;QAC9B,aAAQ,GAAQ,MAAM,CAAC;QAEvB,UAAK,GAAG,EAAE,CAAC;QACX,QAAG,GAAG,iDAAiB,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAexC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,gBAAgB,CAAC;aAC3C,IAAI,CAAC,cAAc,CAAC,EAAE;YACrB,IAAI,CAAC,UAAU,GAAG,cAAc,CAAC,IAAI,CAAC;YACtC,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,KAAK,CAAC;YAExC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;gBAC1B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gBAChB,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;gBAEnC,IAAI,CAAC,iBAAiB,GAAG,kBAAkB,CAAC;gBAC5C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBACpB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;oBACvD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBACxB,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,UAAU,EAAE;4BACrC,IAAI,CAAC,iBAAiB,GAAG,kBAAkB,CAAC;4BAC5C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;yBACrB;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC,CAAC;QACL,CAAC,EACD,GAAG,EAAE,GAAE,CAAC,CACT,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,8CAA8C;QAC9C,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAClC,MAAM,CAAC,EAAE;YACP,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACtC,CAAC,CACF,CAAC;QAEF,IAAI,CAAC,YAAY,GAAG,oBAAoB,GAAG,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;QAClE,IAAI,CAAC,QAAQ,GAAG,gBAAgB,GAAG,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;QAC1D,IAAI,CAAC,QAAQ,GAAG,+BAA+B,CAAC;QAEhD,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC9B,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,YAAY,CAAC;YAClE,IAAI,CAAC,YAAY,GAAG,oBAAoB,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACnE,IAAI,CAAC,QAAQ,GAAG,gBAAgB,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YAC3D,IAAI,CAAC,QAAQ,GAAG,2EAA2E,CAAC;SAC7F;aAAM,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;YACjC,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC;SAChE;aAAM,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACrC,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;SAC5C;aAAM,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;YACpC,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;SAC5C;aAAM;YACL,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;SAC5C;QAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC;QAEhE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;QAEtE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YAC5B,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,WAAW;;YAEf,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,gDAAgD;aAC1D,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,4EAA4E;YAC5E,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;gBAChE,OAAO,CAAC,OAAO,EAAE,CAAC;gBAElB,2BAA2B;gBAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBACf,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,aAAa;;YAEjB,IAAI,YAAY,GAAG,KAAK,CAAC;YAEzB,6BAA6B;YAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;YAE5C,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5B,OAAO,EAAE,kCAAkC;aAC5C,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBACd,GAAG,CAAC,OAAO,EAAE,CAAC;gBACd,GAAG,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAE,CAAC,CAAC,CAAC;gBAErC,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,YAAY,KAAK,KAAK,EAAE;wBAC1B,yBAAyB;wBACzB,QAAQ,CAAC,KAAK,EAAE,CAAC;wBAEjB,oCAAoC;wBACpC,IAAI,CAAC,cAAc,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;wBAE5D,6BAA6B;wBAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;wBAE3B,oCAAoC;wBACpC,IAAI,CAAC,YAAY,CAAC,4CAA4C,CAAC,CAAC;qBACjE;gBACH,CAAC,EAAE,KAAK,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,UAAU,CAAC,CAAC,aAAa,EAAE,EAAE;gBACpC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,GAAG,aAAa,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YAC7E,CAAC,CAAC,CAAC;YAEH,6BAA6B;YAC7B,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;iBACpE,IAAI,CAAC,GAAG,EAAE;gBAET,YAAY,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBAE3B,oCAAoC;gBACpC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC;gBAEzC,2BAA2B;gBAC3B,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;YACrD,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE;gBACV,YAAY,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBAE3B,oCAAoC;gBACpC,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,aAAa;;YACjB,kDAAkD;YAElD,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,8BAA8B;aACxC,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC;iBAC7D,IAAI,CAAC,CAAC,WAAmB,EAAE,EAAE;gBAC5B,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;qBACnC,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;oBAEpB;;;sBAGE;oBACF,0DAA0D;oBAC1D,IAAI,cAAc,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,2CAA2C;oBAC3F,IAAI,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,gDAAgD;oBAC1F,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,2CAA2C;oBACpF,sFAAsF;oBAEtF,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC;yBACrD,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;wBACb,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC;6BAC3D,IAAI,CAAC,GAAG,EAAE;4BACT,4CAA4C;4BAC5C,oFAAoF;4BACpF,wHAAwH;wBAC1H,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC;yBACD,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;gBACnB,CAAC,CAAC;qBACD,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBACf,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,YAAY,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACpE,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,oBAAoB;IACpB,6CAA6C;IAC7C,0BAA0B;IAC1B,MAAM;IACN,uDAAuD;IACvD,8CAA8C;IAC9C,kFAAkF;IAClF,uFAAuF;IACvF,MAAM;IAEN;;;;;;MAME;IACI,mBAAmB,CAAC,OAAO,EAAE,WAAW;;YAC5C,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,iCAAiC;aAC3C,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,WAAW,GAAG,WAAW,IAAI,EAAE,CAAC;YAChC,IAAI,SAAS,GAAG,GAAG,CAAC;YAEpB,IAAI,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;YACnC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,KAAK,IAAI,MAAM,GAAG,CAAC,EAAE,MAAM,GAAG,cAAc,CAAC,MAAM,EAAE,MAAM,IAAI,SAAS,EAAE;gBACxE,IAAI,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC;gBAC7D,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACrC,WAAW,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;iBACtC;gBACD,IAAI,SAAS,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC;gBAC5C,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC5B;YACD,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;YACrD,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,IAAI,CAAC;QACd,CAAC;KAAA;IAEK,YAAY;;YAChB,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC;iBAC1D,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;gBACpB,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;oBAC5B,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;yBACnC,IAAI,CAAC,CAAC,aAAa,EAAE,EAAE;wBACtB,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;4BAC9B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,aAAa,CAAC;iCAChE,IAAI,CAAC,GAAG,EAAE;gCACT,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;oCAC/C,IAAI,CAAC,aAAa,EAAE,CAAC;gCACvB,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACJ;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,eAAe,CAAC,OAAe,EAAE,QAAgB;;YACrD,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,IAAI,MAAM,GAAG,KAAK,CAAC;YAEnB,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5B,OAAO,EAAE,8BAA8B;aACxC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBACd,GAAG,CAAC,OAAO,EAAE,CAAC;gBACd,GAAG,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAE,CAAC,CAAC,CAAC;gBAErC,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,MAAM,KAAK,KAAK,EAAE;wBAEpB,6BAA6B;wBAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;wBAE3B,oCAAoC;wBACpC,IAAI,CAAC,YAAY,CAAC,6CAA6C,CAAC,CAAC;qBAClE;gBACH,CAAC,EAAE,KAAK,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC;iBACtD,IAAI,CAAC,CAAC,WAAmB,EAAE,EAAE;gBAE5B,MAAM,GAAG,IAAI,CAAC;gBACd,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBAC3B,OAAO,WAAW,CAAC;YACrB,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBACf,MAAM,GAAG,KAAK,CAAC;gBACf,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBAC3B,IAAI,CAAC,YAAY,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;gBAClE,OAAO,WAAW,CAAC;YACrB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,gBAAgB,CAAC,OAAe,EAAE,QAAgB,EAAE,aAAkB;;YAC1E,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,8BAA8B;aACxC,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,EAAC,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC;iBACjG,IAAI,CAAC,GAAG,EAAE;gBACT,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBACf,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,YAAY,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACpE,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,kBAAkB,CAAC,WAAmB;;YAC1C,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,iCAAiC;aAC3C,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,qDAAqD;YACrD,KAAK;YACL,uEAAuE;YACvE,2DAA2D;YAC3D,KAAK;YACL,wFAAwF;YACxF,8FAA8F;YAC9F,sFAAsF;YAEtF,WAAW,GAAG,6CAAY,CAAC,OAAO,CAAC,WAAW,EAAE,wBAAwB,CAAC,CAAC,QAAQ,EAAE,CAAC;YAErF,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,WAAW,CAAC;QACrB,CAAC;KAAA;IAEK,kBAAkB,CAAC,aAAqB;;YAC5C,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,iCAAiC;aAC3C,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,IAAI,WAAW,GAAG,6CAAY,CAAC,OAAO,CAAC,aAAa,EAAE,wBAAwB,CAAC,CAAC,QAAQ,CAAC,6CAAY,CAAC,IAAI,CAAC,CAAC;YAE5G,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,WAAW,CAAC;QACrB,CAAC;KAAA;IAEK,cAAc,CAAC,QAAgB;;YACnC,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,+BAA+B;aACzC,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,mEAAmE;YACnE,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;iBAClD,IAAI,CAAC,GAAG,EAAE;gBACT,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE;gBACV,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,YAAY,CAAC,mDAAmD,CAAC,CAAC;YACzE,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEM,IAAI,CAAC,KAAa;QACvB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IACnE,CAAC;IAEM,YAAY,CAAC,KAAa;QAC/B,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC;IACrB,CAAC;IAEM,cAAc,CAAC,IAAsB;QAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;IAClC,CAAC;IAEK,YAAY,CAAC,GAAW;;YAC5B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAEK,YAAY,CAAC,MAAM,EAAE,OAAO;;YAChC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,CAAC;wBACN,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE,GAAE,CAAC;qBAClB,CAAC;aACL,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,EAAE;YACxB,qDAAqD;YACrD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;SACtC;aAED;YACE,2CAA2C;YAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;SACrC;IACH,CAAC;IAED,aAAa;QACX,2CAA2C;QAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;IACrC,CAAC;IAED,WAAW,KAAI,CAAC;IAEV,kBAAkB;;YACtB,6CAA6C;YAC7C,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,gBAAgB,CAAC;iBACjD,IAAI,CAAC,CAAC,OAAiB,EAAE,EAAE;gBAC1B,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACtB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBAEvB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;wBAC5B,IAAI,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAE;4BAC/B,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;yBAC9B;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE;gBACV,IAAI,CAAC,YAAY,CAAC,gCAAgC,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,qBAAqB,CAAC,UAAkB;;YAE5C,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC1C,OAAO,EAAE,UAAU,GAAG,wCAAwC;aAC/D,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,IAAI,aAAa,GAAG,IAAI,sDAAM,CAAC;YAC/B,aAAa,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;YACrC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;YAEvC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC9B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBAC5B,IAAI,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAE;wBAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;qBAC/B;gBACH,CAAC,CAAC,CAAC;aACJ;YAED,IAAI,UAAU,KAAK,KAAK,EAAE;gBACxB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACrC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;aAC9B;iBACI,IAAI,UAAU,KAAK,OAAO,EAC/B;gBACE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B;YAED,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,WAAW,CAAC;iBACnE,IAAI,CAAC,GAAG,EAAE;gBACT,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,GAAG,UAAU,GAAG,IAAI,GAAG,gBAAgB,CAAC,CAAC;gBAC5E,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC5B,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE;gBACV,IAAI,CAAC,YAAY,CAAC,sCAAsC,CAAC,CAAC;YAC5D,CAAC,CAAC,CAAC;YAEH,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;KAAA;CACF;;YApduB,gEAAiB;YACnB,uDAAQ;YACJ,4EAAY;YACX,8EAAa;YACZ,8DAAc;YACnB,8DAAe;YAChB,gFAAc;YAClB,2DAAI;YACF,sDAAM;YACG,8DAAe;;AAzC/B,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,yJAAoC;;KAErC,CAAC;2EAiCsB,gEAAiB;QACnB,uDAAQ;QACJ,4EAAY;QACX,8EAAa;QACZ,8DAAc;QACnB,8DAAe;QAChB,gFAAc;QAClB,2DAAI;QACF,sDAAM;QACG,8DAAe;GAzC/B,aAAa,CAofzB;AApfyB;AAsfnB,MAAM,eAAe,GAAG,QAAQ,CAAC,EAAE;IACxC,IAAI,SAAS,GAAG,EAAE,CAAC;IAEnB,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;QAC/B,IAAI,IAAI,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC;QAC7B,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,OAAO,SAAS,CAAC;AACnB,CAAC,CAAC","file":"pages-pptviewer-pptviewer-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"{{ courseCode }} - PPT\\\" defaultHref=\\\"/tabs/(events:event-list)\\\"></ion-back-button>\\n    </ion-buttons>\\n    <!-- <ion-title>{{($eventItem | async)?.name}}</ion-title> -->\\n    \\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button style=\\\"font-size: 12px;\\\" (click)=\\\"actionFavoriteCourses(actionFavType)\\\" icon-end>\\n        <ion-icon name=\\\"{{ actionFavType === 'Remov' ? 'remove-circle-outline' : 'add-circle-outline' }}\\\" color=\\\"light\\\"></ion-icon>\\n        <span style=\\\"padding-right: 5px; padding-left: 5px;\\\">Favorite</span>\\n        <!-- <ion-icon name=\\\"star\\\" color=\\\"light\\\"></ion-icon> -->\\n      </ion-button>\\n      <ion-button style=\\\"font-size: 12px;\\\" (click)=\\\"downloadMedia()\\\" icon-end>\\n        <span style=\\\"padding-right: 5px;\\\">Update</span>\\n        <ion-icon name=\\\"cloud-download\\\" color=\\\"light\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\" style=\\\"background-color:#646464;\\\">\\n  <ngx-doc-viewer [url]=\\\"pptSrc\\\" viewer=\\\"google\\\" style=\\\"width:100%;height:100%;\\\"></ngx-doc-viewer>\\n\\n  <!-- <pdf-viewer \\n    [src]=\\\"pptSrc\\\"\\n    [zoom]=\\\"zoomType == 'custom' ? zoomValue : zoomType\\\"\\n    [(page)]=\\\"page\\\"\\n    [show-all]=\\\"true\\\"\\n    (after-load-complete)=\\\"onLoadComplete($event)\\\"\\n    [show-borders]=\\\"true\\\" \\n    [stick-to-page]=\\\"true\\\"\\n    color=\\\"medium\\\">\\n  </pdf-viewer> -->\\n  <!-- <ion-toolbar color=\\\"dark\\\">\\n    <ion-button color=\\\"light\\\" fill=\\\"clear\\\" expand=\\\"full\\\" (click)=\\\"enterChatRooms()\\\">{{ createRoomCaption }}</ion-button>\\n  </ion-toolbar> -->\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-button color=\\\"light\\\" fill=\\\"clear\\\" expand=\\\"full\\\" (click)=\\\"enterChatRooms()\\\">{{ createRoomCaption }}</ion-button>\\n  </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PPTViewerPage } from './pptviewer.page';\nimport { NgxDocViewerModule } from 'ngx-doc-viewer'\nimport { PdfViewerModule } from 'ng2-pdf-viewer'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PPTViewerPage\n  }\n];\n\n@NgModule({\n  imports: [\n    NgxDocViewerModule,\n    PdfViewerModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PPTViewerPage]\n})\nexport class PPTViewerPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BwdHZpZXdlci9wcHR2aWV3ZXIucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { File } from '@ionic-native/file/ngx';\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { LoadingController, Platform, AlertController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport * as firebase from 'Firebase';\nimport { DocumentViewer, DocumentViewerOptions } from '@ionic-native/document-viewer/ngx';\nimport * as CryptoJS from 'crypto-js';\nimport { PDFDocumentProxy } from 'ng2-pdf-viewer';\nimport { Course } from 'src/app/models';\n\n\n@Component({\n  selector: 'app-pptviewer',\n  templateUrl: './pptviewer.page.html',\n  styleUrls: ['./pptviewer.page.scss'],\n})\nexport class PPTViewerPage implements OnInit, OnDestroy {  \n  courseID: number;\n  courses: Course[];\n  courseCode: string;\n  courseTitle: string;\n  mimeType: string;\n  fileName: string;\n  fileNameTemp: string;\n  dirName: string;\n  systemBase: string;\n  dirBase: string = \"/.UMYU/.data/.materials/\";\n  downloadURL: string = \"http://umyu.easystudy.com.ng/materials/\";\n  // pptSrc: string = \"https://devdactic.com/html/5-simple-hacks-LBT.pdf\";\n  pptSrc: string = \"https://file-examples.com/wp-content/uploads/2017/08/file_example_PPT_500kB.ppt\";\n  isFound: boolean = false;\n  courseLists: Array<Course> = [];\n  actionFavType: string = \"Add\";\n\n  zoomValue = 1;\n  page = 1;\n  totalPages: number;\n  isSearchShown = false;\n  searchString: string;\n  isCaseSensativeSearch = false;\n  zoomType: any = 'auto';\n  \n  rooms = [];\n  ref = firebase.database().ref('chatrooms/');\n  createRoomCaption: string;\n  actionType: number;\n\n  constructor(\n    public loadingCtrl: LoadingController,\n    private platform: Platform,\n    private fileTransfer: FileTransfer,\n    private nativeStorage: NativeStorage,\n    private activatedRoute: ActivatedRoute,\n    private toastCtrl: ToastController,\n    private document: DocumentViewer,\n    private file: File,\n    private router: Router,\n    private alertController: AlertController) {\n      this.getFavoriteCourses();\n      this.nativeStorage.getItem('selectedcourse')\n      .then(selectedCourse => {\n        this.courseCode = selectedCourse.Code;\n        this.courseTitle = selectedCourse.Title;\n\n        this.ref.on('value', resp => {\n          this.rooms = [];\n          this.rooms = snapshotToArray(resp);          \n\n          this.createRoomCaption = \"Create Chat Room\";\n          this.actionType = 1;\n          if (this.rooms !== undefined && this.rooms.length !== 0) {\n            this.rooms.forEach(room => {\n              if (room.roomname === this.courseCode) {\n                this.createRoomCaption = \"Select Chat Room\";\n                this.actionType = 2;\n              }\n            });\n          }\n        }); \n      },\n      () => {}\n    );\n  }\n\n  ngOnInit() {\n    // Get the ID that was passed with the URL    \n    this.activatedRoute.params.subscribe(\n      params => {          \n        this.courseID = +params['courseid'];\n      }\n    );\n    \n    this.fileNameTemp = \"powerpointfiletemp\" + this.courseID + \".ppt\";\n    this.fileName = \"powerpointfile\" + this.courseID + \".ppt\";\n    this.mimeType = \"application/vnd.ms-powerpoint\";\n\n    if(this.platform.is('android')) {\n      this.systemBase =  this.file.externalRootDirectory + \"/Documents\";\n      this.fileNameTemp = \"powerpointfiletemp\" + this.courseID + \".pptx\";\n      this.fileName = \"powerpointfile\" + this.courseID + \".pptx\";\n      this.mimeType = \"application/vnd.openxmlformats-officedocument.presentationml.presentation\";\n    } else if(this.platform.is('ios')) {\n      this.systemBase =  this.file.documentsDirectory + \"/Documents\";\n    } else if(this.platform.is('desktop')) {\n      this.systemBase =  this.file.dataDirectory;\n    } else if(this.platform.is('tablet')) {\n      this.systemBase =  this.file.dataDirectory;\n    } else {\n      this.systemBase =  this.file.dataDirectory;\n    }\n        \n    this.dirName = this.systemBase + this.dirBase + \".powerpoints/\";\n\n    this.downloadURL = this.downloadURL + \"powerpoint/\" + this.fileName;\n      \n\t\tthis.platform.ready().then(() => {\n      this.verifyMedia().then(() => {});\n    });\n  }\n\n  async verifyMedia() {\n\n    let loading = await this.loadingCtrl.create({\n      message: 'Checking file on local storage, please wait...'\n    });\n    await loading.present();\n\n    //This is where the media file will be stored, you can change it as you like\n    this.file.checkFile(this.dirName, this.fileName).then((success) => {\n      loading.dismiss();\n      \n      // Show downloaded ppt/pptx\n      this.showMediaFile();\n    })\n    .catch((error) => {\n      loading.dismiss();\n      this.downloadMedia();\n    });\n  }\n\n  async downloadMedia() {\n\n    let isDownloaded = false;\n    \n    // Initialize transfer handle\n    const transfer = this.fileTransfer.create();\n\n    await this.loadingCtrl.create({\n      message: 'Downloading file, please wait...'\n    }).then((res) => {\n      res.present(); \n      res.onDidDismiss().then((dis) => {});\n\n      setTimeout(() => {\n        if (isDownloaded === false) {\n          // Abort active transfer:\n          transfer.abort();\n  \n          // Remove incomplete downloaded file\n          this.removeTempFile('~' + this.fileNameTemp).then(() => {});\n  \n          // Dismiss loading controller\n          this.loadingCtrl.dismiss();\n  \n          // Send failure notification to user\n          this.presentToast(\"File download timedout! Please retry again\");\n        }\n      }, 60000);\n    });\n\n    transfer.onProgress((progressEvent) => {\n      var counter = Math.floor(progressEvent.loaded / progressEvent.total * 100);\n    });\n\n    // Downloading File to Device\n    transfer.download(this.downloadURL, this.dirName + this.fileNameTemp)\n    .then(() => {\n      \n      isDownloaded = true;\n      this.loadingCtrl.dismiss();\n\n      // Send success notification to user\n      this.presentToast(\"Download completed!\");  \n\n      // Process downloaded media\n      this.processMedia().then(() => {}).catch(() => {});\n    })\n    .catch(() => {\n      isDownloaded = false;\n      this.loadingCtrl.dismiss();\n\n      // Send failure notification to user\n      this.presentToast(\"File download failed!\");\n    });\n  }\n  \n  async showMediaFile() {\n    // Get media URL and convert to an accessible path\n    \n    let loading = await this.loadingCtrl.create({\n      message: 'Reading file, please wait...'\n    });\n    await loading.present();    \n\n    return await this.file.readAsText(this.dirName, this.fileName)\n    .then((fileContent: string) => {\n      loading.dismiss();\n      this.decryptFileContent(fileContent)\n      .then((fileContent) => {        \n        \n        /*\n        * File reader provides us with an incorrectly encoded base64 string.\n        * So we have to fix it, in order to upload it correctly.\n        */\n        // let encodingType = \"data:\"+ this.mimeType + \";base64,\";\n        let originalBase64 = fileContent.split(',')[1]; // Remove the \"data:application...\" string.\n        let decodedBase64 = atob(originalBase64); // Decode the incorrectly encoded base64 string.\n        let encodedBase64 = btoa(decodedBase64); // re-encode the base64 string (correctly).\n        // let newBase64 = encodingType + encodedBase64; // Add theencodingType to the string.\n        \n        this.convertBase64ToBlob(encodedBase64, this.mimeType)\n        .then((blob) => {\n          this.writeFileContent(this.dirName, this.fileNameTemp, blob)\n          .then(() => {\n            // let win: any = window; // hack compilator\n            // this.pptSrc = win.Ionic.WebView.convertFileSrc(this.dirName + this.fileNameTemp);\n            // this.pptSrc2 = this.downloadURL; //\"https://file-examples.com/wp-content/uploads/2017/08/file_example_PPT_500kB.ppt\";\n          });\n        })\n        .catch(() => {});        \n      })\n      .catch(() => {});\n    })\n    .catch((error) => {\n      loading.dismiss();\n      this.presentToast(\"Error Reading File! \" + JSON.stringify(error));\n    });\n  }\n    \n  // showMediaFile() {\n  //   const options: DocumentViewerOptions = {\n  //     title: 'PPT Viewer'\n  //   }\n  //   // Get media URL and convert to an accessible path\n  //   let win: any = window; // hack compilator\n  //   this.pptSrc = win.Ionic.WebView.convertFileSrc(this.dirName + this.fileName);\n  //   this.document.viewDocument(this.pptSrc, 'application/vnd.ms-powerpoint', options);\n  // }  \n  \n  /**\n  Convert a base64 string in a Blob according to the data and contentType.\n  @param b64Data {String} Pure base64 string without contentType\n  @param contentType {String} the content type of the file i.e (application/vnd.ms-powerpoint - text/plain)\n  @see http://stackoverflow.com/questions/16245767/creating-a-blob-from-a-base64-string-in-javascript 47\n  @return Blob\n  */\n  async convertBase64ToBlob(b64Data, contentType): Promise<Blob> {\n    let loading = await this.loadingCtrl.create({\n      message: 'Converting file, please wait...'\n    });\n    await loading.present();\n\n    contentType = contentType || \"\";\n    let sliceSize = 512;\n\n    var byteCharacters = atob(b64Data);\n    var byteArrays = [];\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      var slice = byteCharacters.slice(offset, offset + sliceSize);\n      var byteNumbers = new Array(slice.length);\n      for (var i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      var byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n    var blob = new Blob(byteArrays, {type: contentType});\n    loading.dismiss();\n    return blob;\n  }\n\n  async processMedia() {\n    await this.readFileContent(this.dirName, this.fileNameTemp)\n    .then((fileContent) => {\n      if (fileContent.length !== 0) {\n        this.encryptFileContent(fileContent)\n        .then((encryptedFile) => {\n          if (encryptedFile.length !== 0) {\n            this.writeFileContent(this.dirName, this.fileName, encryptedFile)\n            .then(() => {\n              this.removeTempFile(this.fileNameTemp).then(() => {\n                this.showMediaFile();\n              });\n            });\n          }\n        });\n      }\n    });\n  }\n\n  async readFileContent(dirName: string, fileName: string): Promise<string> {\n    let emptyString = \"\";\n    let isRead = false;\n\n    await this.loadingCtrl.create({\n      message: 'Reading file, please wait...'\n    }).then((res) => {\n      res.present(); \n      res.onDidDismiss().then((dis) => {});\n\n      setTimeout(() => {\n        if (isRead === false) {\n    \n          // Dismiss loading controller\n          this.loadingCtrl.dismiss();\n  \n          // Send failure notification to user\n          this.presentToast(\"File retrieval timedout! Please retry again\");\n        }\n      }, 30000);\n    });\n    \n    return await this.file.readAsDataURL(dirName, fileName)\n    .then((fileContent: string) => {\n      \n      isRead = true;\n      this.loadingCtrl.dismiss();\n      return fileContent;\n    })\n    .catch((error) => {\n      isRead = false;\n      this.loadingCtrl.dismiss();\n      this.presentToast(\"Error Reading File! \" + JSON.stringify(error));\n      return emptyString;\n    });\n  }\n\n  async writeFileContent(dirName: string, fileName: string, encryptedFile: any) {    \n    let loading = await this.loadingCtrl.create({\n      message: 'Writing file, please wait...'\n    });\n    await loading.present();\n        \n    return await this.file.writeFile(dirName, fileName, encryptedFile, {replace: true, append: false})\n    .then(() => {\n      loading.dismiss();\n    })\n    .catch((error) => {\n      loading.dismiss();\n      this.presentToast(\"Error Writing File! \" + JSON.stringify(error));\n    });\n  }\n\n  async encryptFileContent(fileContent: string): Promise<string> {\n    let loading = await this.loadingCtrl.create({\n      message: 'Encrypting file, please wait...'\n    });\n    await loading.present();\n\n    // let encodingType = \"data:application/pdf;base64,\";\n    // /*\n    // * File reader provides us with an incorrectly encoded base64 string.\n    // * So we have to fix it, in order to upload it correctly.\n    // */\n    // let mimeType = fileContent.split(',')[0]; // Remove the \"data:application...\" string.\n    // let originalBase64 = fileContent.split(',')[1]; // Remove the \"data:application...\" string.\n    // fileContent = encodingType + originalBase64; // Add the encodingType to the string.\n    \n    fileContent = CryptoJS.AES.encrypt(fileContent, \":<>?{}|[]\\!@#$%^&*()_+\").toString();\n\n    loading.dismiss();\n    return fileContent;\n  }\n\n  async decryptFileContent(encryptedFile: string): Promise<string> {\n    let loading = await this.loadingCtrl.create({\n      message: 'Decrypting file, please wait...'\n    });\n    await loading.present();\n    \n    let fileContent = CryptoJS.AES.decrypt(encryptedFile, \":<>?{}|[]\\!@#$%^&*()_+\").toString(CryptoJS.enc.Utf8);\n\n    loading.dismiss();\n    return fileContent;\n  }\n\n  async removeTempFile(fileName: string): Promise<any> {\n    let loading = await this.loadingCtrl.create({\n      message: 'Removing file, please wait...'\n    });\n    await loading.present();\n\n    // return this.file.removeFile(this.dirNameTemp, this.fileNameTemp)\n    return this.file.removeFile(this.dirName, fileName)\n    .then(() => {\n      loading.dismiss();\n    })\n    .catch(() => {\n      loading.dismiss();\n      this.presentToast(\"Error Removing File or Temp File No Longer Exist!\");\n    });\n  }\n\n  public zoom(value: number) {\n    this.zoomType = 'custom';\n    this.zoomValue = parseFloat((this.zoomValue + value).toFixed(2));\n  }\n\n  public stepFromPage(value: number) {\n    this.page += value;\n  }\n\n  public onLoadComplete(data: PDFDocumentProxy) {\n    this.totalPages = data.numPages;\n  }\n\n  async presentToast(msg: string) {\n    const toast = await this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  async presentAlert(header, message, ) {\n    const alert = await this.alertController.create({\n      header: header,\n      message: message,\n      buttons: [{\n          text: 'OK',\n          handler: () => {}\n        }]\n    });\n\n    await alert.present();\n  }\n\n  enterChatRooms() {\n    if (this.actionType == 1) {\n      // Navigate to create chatroom if room does not exist\n      this.router.navigate(['createroom']);\n    }\n    else\n    {\n      // Navigate to chatrooms if room does exist\n      this.router.navigate(['chatrooms']);\n    }\n  }\n\n  enterChatRoom() {\n    // Navigate to chatrooms if room does exist\n    this.router.navigate(['chatroom']);\n  }\n\n  ngOnDestroy() {}\n\n  async getFavoriteCourses() {\n    // Get all favourite courses from the storage\n    await this.nativeStorage.getItem('favoritecourse')\n    .then((courses: Course[]) => {\n      if (courses.length > 0) {\n        this.courses = courses;\n        \n        this.courses.forEach(course => {\n          if (course.id === this.courseID) {\n            this.actionFavType = \"Remov\";\n          }\n        });\n      }\n    })\n    .catch(() => {\n      this.presentToast(\"Course favorite list is empty!\");\n    });\n  }\n\n  async actionFavoriteCourses(actionType: string) {\n\n    let loading = await this.loadingCtrl.create({\n      message: actionType + 'ing course to favorite, please wait...'\n    });\n    await loading.present();\n    \n    let currentCourse = new Course;\n    currentCourse.id = this.courseID;\n    currentCourse.code = this.courseCode;\n    currentCourse.title = this.courseTitle;\n    \n    this.courseLists = [];\n    if (this.courses !== undefined) {\n      this.courses.forEach(course => {\n        if (course.id !== this.courseID) {\n          this.courseLists.push(course);\n        }\n      });\n    }\n\n    if (actionType === \"Add\") {\n      this.courseLists.push(currentCourse);\n      this.actionFavType = \"Remov\";\n    }\n    else if (actionType === \"Remov\")\n    {\n      this.actionFavType = \"Add\";\n    }\n    \n    await this.nativeStorage.setItem('favoritecourse', this.courseLists)\n    .then(() => {\n      this.presentAlert(\"Info\", \"Course \" + actionType + 'ed' + \" Successfully!\");\n      this.getFavoriteCourses();\n    })\n    .catch(() => {\n      this.presentToast(\"Error adding course to favorite list\");\n    });\n\n    loading.dismiss();\n  }\n}\n\nexport const snapshotToArray = snapshot => {\n  let returnArr = [];\n\n  snapshot.forEach(childSnapshot => {\n    let item = childSnapshot.val();\n    item.key = childSnapshot.key;\n    returnArr.push(item);\n  });\n\n  return returnArr;\n};\n"],"sourceRoot":""}